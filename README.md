# Del Security Website (Astro)

Static corporate site for **Del Security** with researcher-focused security messaging, legal/trust docs, and a static blog.

## Stack

- Astro + TypeScript
- Tailwind CSS (v4 via Vite plugin)
- Astro Content Collections (Markdown)
- MDX integration enabled
- RSS + Sitemap
- GitHub Pages deployment workflow

## Local development

```bash
npm install
npm run dev
npm run build
npm run preview
```

## Routes

- `/` Home
- `/services`
- `/process`
- `/trust`
- `/submissions`
- `/contact`
- `/blog`
- `/blog/[slug]`
- `/advisories` (placeholder)
- `/legal/terms`
- `/legal/privacy`
- `/legal/coordination`
- `/legal/data-handling`
- `/rss.xml`
- `/robots.txt`

## Centralized copy/placeholders

Edit these values in one place:

- `src/config/site.ts`
  - Company name/tagline
  - Contact emails (`info@`, `security@`)
  - Header and legal links

PGP placeholder key:

- `public/pgp.txt`

## Blog content

- Posts: `src/content/blog/*.md`
- Required frontmatter:
  - `title`
  - `date` (ISO)
  - `summary`
  - `tags` (array)
  - `draft` (boolean)
  - `canonical` (optional)

Draft behavior:

- `draft: true` posts are hidden in production builds.

## Analytics (GA4)

- Environment variable: `PUBLIC_GA4_ID`
- If `PUBLIC_GA4_ID` is empty or unset, GA script is not loaded.
- Head injection is implemented in `src/layouts/BaseLayout.astro`.

## GitHub Pages deployment

Workflow file:

- `.github/workflows/deploy.yml`

### Required setup

1. Push repository to GitHub and set default branch to `main`.
2. Open **Settings -> Pages**.
3. Set **Source** to **GitHub Actions**.
4. Optional repository variables:
   - `PUBLIC_GA4_ID` (e.g., `G-XXXXXXXXXX`)
   - `PUBLIC_BASE_PATH` (only if you need custom override)

### Base path behavior

- `astro.config.mjs` auto-derives base path for project pages using `GITHUB_REPOSITORY`.
- For `username.github.io` repositories, base defaults to `/`.
- For `username/repo` project pages, base defaults to `/<repo>`.

### Custom domain (optional)

1. Create `public/CNAME` with your domain (for example: `security.example.com`).
2. Configure DNS for GitHub Pages.
3. In **Settings -> Pages**, enable **Enforce HTTPS** after DNS propagates.

## SEO and feed

- Sitemap: generated by `@astrojs/sitemap`
- RSS: `src/pages/rss.xml.ts`
- JSON-LD Article metadata: `src/pages/blog/[slug].astro`

## Notes

- Contact is fully static (mailto + PGP guidance).
- No backend form handlers or external form services are used.
