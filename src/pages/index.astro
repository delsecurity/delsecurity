---
import BaseLayout from '../layouts/BaseLayout.astro';
import ServiceCard from '../components/ServiceCard.astro';
import ProcessStepper from '../components/ProcessStepper.astro';
import FAQTabs from '../components/FAQTabs.astro';
import { SERVICE_CARDS, withBase } from '../config/site';

const researcherFaq = [
  {
    q: 'What makes a submission actionable?',
    a: 'Clear scope context, reproducible steps, observed impact, affected versions, and supporting artifacts such as logs or PoC notes.',
  },
  {
    q: 'Can I submit discreetly?',
    a: 'Yes. We accept discreet submissions and support encrypted communication through our PGP key for sensitive exchanges.',
  },
  {
    q: 'Do you guarantee compensation?',
    a: 'No guaranteed amounts are offered. Evaluation is case-by-case based on impact, novelty, reproducibility, and affected versions.',
  },
];

const vendorFaq = [
  {
    q: 'What does a vendor-ready report include?',
    a: 'Reproduction workflow, impact framing, affected versions, mitigation options, and evidence from a controlled validation environment.',
  },
  {
    q: 'Can timeline and embargo be coordinated?',
    a: 'Yes. We coordinate responsible disclosure timelines with legitimate vendors and can align on embargo windows when appropriate.',
  },
  {
    q: 'Do you offer retest support?',
    a: 'Yes. Retest can be scheduled to verify fixes and document residual risk before final closure.',
  },
];
---

<BaseLayout
  title="Vulnerability Research, Validated Outcomes"
  description="Vulnerability research as the core service, supported by fast triage, discreet handling, and responsible disclosure workflows."
  canonicalPath="/"
>
  <section class="grid gap-8 rounded-3xl border border-line bg-surface p-8 md:grid-cols-[1.3fr_1fr] md:p-12">
    <div>
      <p class="text-sm font-semibold uppercase tracking-wide text-brand">Vulnerability Research</p>
      <h1 class="mt-4 font-display text-4xl leading-tight font-bold text-text md:text-5xl">
        Vulnerability research is our primary service.
      </h1>
      <p class="mt-5 max-w-2xl text-base leading-7 text-text-soft">
        Del Security focuses on high-signal vulnerability research with reproducible validation. We also operate a private submission and evaluation program for researchers and support vendor coordination when needed.
      </p>
      <div class="mt-8 flex flex-wrap gap-3">
        <a class="rounded-full bg-brand px-5 py-2.5 text-sm font-semibold text-white" href={withBase('/submissions')}>Submit a vulnerability</a>
        <a class="rounded-full border border-line px-5 py-2.5 text-sm font-semibold text-text" href={withBase('/submissions#spec-sheet')}>Submission spec sheet</a>
        <a class="rounded-full border border-line px-5 py-2.5 text-sm font-semibold text-text" href={withBase('/contact#business')}>Request an assessment</a>
      </div>
    </div>
    <div class="grid content-start gap-3">
      <span class="inline-flex w-fit rounded-full bg-brand-soft px-3 py-1 text-xs font-medium text-brand">Legal</span>
      <span class="inline-flex w-fit rounded-full bg-brand-soft px-3 py-1 text-xs font-medium text-brand">Fast</span>
      <span class="inline-flex w-fit rounded-full bg-brand-soft px-3 py-1 text-xs font-medium text-brand">Discreet</span>
      <span class="inline-flex w-fit rounded-full bg-brand-soft px-3 py-1 text-xs font-medium text-brand">Vendor-ready</span>
      <div class="card mt-2 p-4">
        <p class="text-sm text-text-soft">
          We coordinate responsible disclosure with legitimate vendors/partners and decline unauthorized or malicious requests.
        </p>
      </div>
    </div>
  </section>

  <section class="mt-16 grid gap-6 md:grid-cols-2">
    <article class="card p-6">
      <h2 class="font-display text-2xl font-semibold">For Researchers</h2>
      <p class="mt-3 text-sm leading-7 text-text-soft">
        Rapid triage, discreet communication, clear acceptance criteria, and encrypted submission guidance. We keep milestones visible and expectations explicit.
      </p>
      <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-text-soft">
        <li>Typical triage response within 24-48 business hours.</li>
        <li>PGP-supported communication for sensitive details.</li>
        <li>Reproducibility and evidence-focused evaluation.</li>
      </ul>
    </article>
    <article class="card p-6">
      <h2 class="font-display text-2xl font-semibold">For Vendors</h2>
      <p class="mt-3 text-sm leading-7 text-text-soft">
        Structured reports designed for engineering action: reproducibility, impact context, mitigation guidance, and practical validation details.
      </p>
      <ul class="mt-4 list-disc space-y-2 pl-5 text-sm text-text-soft">
        <li>Vendor communication channel with timeline coordination.</li>
        <li>Embargo options and retest support.</li>
        <li>Clear technical artifacts for internal patch workflows.</li>
      </ul>
    </article>
  </section>

  <section class="mt-16">
    <div class="mb-6 flex items-end justify-between gap-4">
      <h2 class="font-display text-3xl font-semibold">Services Overview</h2>
      <a class="text-sm font-semibold text-brand" href={withBase('/services')}>View all services</a>
    </div>
    <div class="grid gap-4 md:grid-cols-3">
      {SERVICE_CARDS.map((service) => <ServiceCard name={service.name} summary={service.summary} />)}
    </div>
  </section>

  <section class="mt-16">
    <div class="mb-6 flex items-end justify-between gap-4">
      <h2 class="font-display text-3xl font-semibold">Process Preview</h2>
      <a class="text-sm font-semibold text-brand" href={withBase('/process')}>See full process</a>
    </div>
    <ProcessStepper />
  </section>

  <section class="mt-16 card p-6">
    <h2 class="font-display text-3xl font-semibold">Trust Snapshot</h2>
    <div class="mt-4 grid gap-4 md:grid-cols-2">
      <p class="rounded-xl bg-bg p-4 text-sm text-text-soft">NDA-first onboarding and least-privilege access for sensitive engagements.</p>
      <p class="rounded-xl bg-bg p-4 text-sm text-text-soft">KYC and provenance checks with compliance screening aligned to sanctions and export-control considerations.</p>
      <p class="rounded-xl bg-bg p-4 text-sm text-text-soft">Data retention and deletion windows are configurable and handled case-by-case by engagement requirements.</p>
      <p class="rounded-xl bg-bg p-4 text-sm text-text-soft">Responsible disclosure coordination with vendor timeline and embargo alignment options.</p>
    </div>
    <a class="mt-5 inline-flex text-sm font-semibold text-brand" href={withBase('/trust')}>Read Trust & Compliance</a>
  </section>

  <section class="mt-16">
    <h2 class="mb-6 font-display text-3xl font-semibold">FAQ</h2>
    <FAQTabs researcher={researcherFaq} vendor={vendorFaq} />
  </section>
</BaseLayout>
